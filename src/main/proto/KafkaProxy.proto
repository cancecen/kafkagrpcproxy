syntax = "proto3";
option java_multiple_files = true;
package org.cecen.demo;

message Credentials {
    string placeHolder = 1;
}

message RegisterProducerRequest {
    Credentials credentials = 1;
}

message RegisterProducerResponse {
    string clientId = 1;
}

message RegisterConsumerRequest {
    string groupId = 1;
    int64 partitionId = 2;
}

message RegisterConsumerResponse {
    string clientId = 1;
}

message ProduceRequest {
    int64 timestamp = 1;
    string messageContent = 2;
}

message ProduceResponse {
    ResponseCode responseCode = 1;
}

message ConsumeRequest {
    int64 maxMessagesToReturn = 1;
}

message ConsumeMessage {
    int64 timestamp = 1;
    string messageContent = 2;
}

message ConsumeResponse {
    repeated ConsumeMessage messages = 1;
}

enum ResponseCode {
    OK = 0;
    FAILED = 1;
}

service KafkaProxyService {
    rpc produce(ProduceRequest) returns (ProduceResponse);
    rpc registerProducer(RegisterProducerRequest) returns (RegisterProducerResponse);
    rpc registerConsumer(RegisterConsumerRequest) returns (RegisterConsumerResponse);
    rpc consume(ConsumeRequest) returns (ConsumeResponse);
}